---
title: system.statistics.object.count.per-volume
layout: ja
---

{% comment %}
##############################################
  THIS FILE IS AUTOMATICALLY GENERATED FROM
  "_po/ja/reference/1.1.1/commands/system/statistics/object/count/per-volume/index.po"
  DO NOT EDIT THIS FILE MANUALLY!
##############################################
{% endcomment %}


* TOC
{:toc}

## 概要 {#abstract}

`system.statistics.object.count.per-volume` コマンドは、各ボリューム内の物理的なオブジェクト数を数えて報告します。

['system.statistics.object.count'](../)も併せて参照して下さい。

## APIの形式 {#api-types}

### HTTP {#api-types-http}

リクエスト先
: `(ドキュメントルート)/droonga/system/statistics/object/count/per-volume`

リクエストメソッド
: `GET`

リクエストのURLパラメータ
: [パラメータの詳細](#parameters)を参照。

リクエストのbody
: なし。

レスポンスのbody
: [レスポンスメッセージ](#response)。

### REST {#api-types-rest}

対応していません。

### Fluentd {#api-types-fluentd}

形式
: Request-Response型。コマンドに対しては必ず対応するレスポンスが返されます。

リクエストの `type`
: `system.statistics.object.count.per-volume`

リクエストの `body`
: [パラメータ](#parameters)のハッシュ。

レスポンスの `type`
: `system.statistics.object.count.per-volume.result`

## パラメータの構文 {#syntax}

    {
      "output": [
        "tables",
        "columns",
        "records"
      ]
    }

または

    {
      "output": [
        "total"
      ]
    }

## 使い方 {#usage}

このコマンドは、指定された対象の物理的な数を数えて報告します。
例：

    {
      "type" : "system.statistics.object.count.per-volume",
      "body" : {
        "output": [
          "tables",
          "columns",
          "records",
          "total"
        ]
      }
    }
    
    => {
         "type" : "system.statistics.object.count.per-volume.result",
         "body" : {
           "node0:10031/droonga.000": {
             "tables":  1,
             "columns": 0,
             "records": 1,
             "total":   2
           },
           "node0:10031/droonga.001": {
             "tables":  1,
             "columns": 0,
             "records": 1,
             "total":   2
           }
         }
       }


## パラメータの詳細 {#parameters}

全てのパラメータは省略可能です。

### `output` {#parameter-output}

概要
: 個数を報告する対象。

値
: 計数対象の配列。指定された対象のみが計数されます。
  取り得る値：
  
   * `tables`
   * `columns`
   * `records`
   * `total`

省略時の既定値
: `[]`


## レスポンス {#response}

このコマンドは以下のようなハッシュを `body` 、`200` を `statusCode` としたレスポンスを返します。以下はその一例です。。

    {
      "<1番目のボリュームの識別子>": {
        "tables":  <テーブルの総数>,
        "columns": <カラムの総数>,
        "records": <レコードの総数>,
        "total":   <全てのオブジェクトの総数>
      },
      "<2番目のボリュームの識別子>": { ... },
      ...
    }

`tables`
: ボリューム内の物理的なテーブル数。

`columns`
: ボリューム内の物理的なカラム数。

`records`
: ボリューム内の物理的なレコード数。

`total`
: `tables`、`columns`、`records`の合計。
  全てのオブジェクトの数の合計だけを知りたい場合は、それぞれの対象を個別に計数するよりも、こちらの方が高速です。

## エラーの種類 {#errors}

このコマンドは[一般的なエラー](/reference/message/#error)を返します。
