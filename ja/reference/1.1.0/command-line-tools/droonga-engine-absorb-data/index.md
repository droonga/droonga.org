---
title: droonga-engine-absorb-data
layout: ja
---

{% comment %}
##############################################
  THIS FILE IS AUTOMATICALLY GENERATED FROM
  "_po/ja/reference/1.1.0/command-line-tools/droonga-engine-absorb-data/index.po"
  DO NOT EDIT THIS FILE MANUALLY!
##############################################
{% endcomment %}


* TOC
{:toc}

## 概要 {#abstract}

`droonga-engine-absorb-data`は、指定されたコピー元データセットからコピー先データセットへ全てのデータをコピーします。

例えば、`192.168.100.50`というコピー元クラスタのDroonga Engineノードがあり、コピー先の別クラスタのDroonga Engineノードである`192.168.200.10`にログインしている場合、`192.168.100.50`から`192.168.200.10`へ全てのデータをコピーするコマンド列は以下のようになります：

~~~
(on 192.168.200.10)
$ droonga-engine-absorb-data --host 192.168.200.10 \
                             --receiver-host 192.168.200.10 \
                             --source-host 192.168.100.50
Start to absorb data from Default at 192.168.100.50:10031/droonga
                       to Default at 192.168.200.10:10031/droonga
                      via 192.168.200.10 (this host)

Absorbing...
Getting the timestamp of the last processed message in the source node...
The timestamp of the last processed message in the source node: 2015-04-29T10:07:08.230158Z
Setting the destination node to ignore messages older than the timestamp...
100% done (maybe 00:00:00 remaining)
Done.
~~~

このコマンドは1つのDroongaクラスタ内であるデータセットから別のデータセットへデータをコピーする事もできます。
例えば、以下はマスターとなる既存のデータセットの内容を別のテスト用データセットへコピーするコマンド列です：

~~~
(on 192.168.100.50)
$ droonga-engine-absorb-data --receiver-host 192.168.100.50 \
                             --host 192.168.100.50 \
                             --dataset Testing \
                             --source-host 192.168.100.50 \
                             --source-dataset Default
Start to absorb data from Default at 192.168.100.50:10031/droonga
                       to Testing at 192.168.100.50:10031/droonga
                      via 192.168.100.50 (this host)
...
~~~

[複数のDroongaクラスタ間でのデータのコピーについてのチュートリアル](/ja/tutorial/dump-restore/)も併せて参照して下さい。


## パラメータ {#parameters}

`--host=NAME`
: データのコピー先となるEngineノードのホスト名。
  既定値は、コマンドを実行しているコンピュータ自身の推測されたホスト名です。

`--port=PORT`
: データのコピー先となるEngineノードとの通信に使うポート番号。
  既定値は`10031`です。

`--tag=TAG`
: データのコピー先となるEngineノードとの通信に使うタグ名。
  既定値は`droonga`です。

`--dataset=NAME`
: データのコピー先となるデータセットの名前。
  既定値は`Default`です。

`--source-host=NAME`
: データのコピー元となるEngineノードのホスト名。
  既定値は、コマンドを実行しているコンピュータ自身の推測されたホスト名です。

`--source-port=PORT`
: データのコピー元となるEngineノードとの通信に使うポート番号。
  既定値は`10031`です。

`--source-tag=TAG`
: データのコピー元となるEngineノードとの通信に使うタグ名。
  既定値は`droonga`です。

`--source-dataset=NAME`
: データのコピー元となるデータセットの名前。
  既定値は`Default`です。

`--receiver-host=NAME`
: このコマンドを実行しているコンピュータのホスト名。
  既定値は、そのコンピュータのホスト名として推測される名前です。

`--records-per-second=N`
: 1秒間にコピーするレコードの最大数。
  `-1`を指定した場合、"無制限"を意味します。
  既定値は`100`です。

`--progress-interval-seconds=SECONDS`
: データコピーの進捗を報告する間隔の秒数。
  既定値は`3`です。

`--[no-]verbose`
: 内部的な操作の詳細を出力するかどうか。
  主にデバッグ用のオプションです。

`--help`
: コマンドの使い方の説明を表示します。

## インストール方法 {#install}

このコマンドは、Rubygemsのパッケージ`droonga-engine`の一部としてインストールされます。

~~~
# gem install droonga-engine
~~~

